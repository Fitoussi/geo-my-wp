jQuery(document).ready((function($){var GMW_Admin={init:function(){setTimeout((function(){jQuery("#gmw-admin-page-loader").fadeOut("slow")}),100),$(window).bind("keydown",(function(event){if(event.ctrlKey||event.metaKey)switch(String.fromCharCode(event.which).toLowerCase()){case"s":event.preventDefault(),jQuery("#gmw-form-editor-submit, .gmw-update-settings-button .gmw-settings-action-button").click()}})),jQuery(".gmw-premium-extension-option-disabled").closest(".gmw-settings-multiple-fields-wrapper").find("input, select, checkbox, textarea").prop("disabled",!0),jQuery(".gmw-premium-extension-option-disabled").on("click",(function(){var proData={feature:"premium_settings",name:"Premium Settings",url:"https://geomywp.com/extensions/premium-settings",content:'Enhance GEO my WP forms with additional taxonomy options, custom map markers, AJAX info-windows, keywords search box, markers clusters, "no results" options, and more...'};GMW_Admin.premium_feature_modal(proData)})),GMW_Admin.tabs_switcher_init(),jQuery("#gmw-new-form-selector").on("change",(function(e){var selected=jQuery(this).find(":selected");selected.hasClass("gmw-premium-feature")?(GMW_Admin.premium_feature_modal(selected.data()),jQuery("#gmw-new-form-selector").val(""),e.preventDefault()):window.location.href=jQuery(this).val()}));var adminNoticeClass='div[class*="notice"], div[class*="error"], div.update-nag, .wcvendors-message, #peepso_php_warning',adminNotices=jQuery("body.gmw-admin-page").find("h1").closest("div").children(adminNoticeClass),adminNoticeClass2="div.update-nag",adminNotices2=jQuery("body.gmw-admin-page").find("div.update-nag");setTimeout((function(){adminNotices.not(".notice-success").detach().prependTo("#gmw-admin-notices-holder").show(),adminNotices2.not(".notice-success").detach().prependTo("#gmw-admin-notices-holder").show()}),500),jQuery(".notice-success").detach().insertBefore("#gmw-admin-notices-holder").show(),jQuery(".gmw-admin-page select").css({width:"100%"}),jQuery().select2&&(jQuery.fn.select2.amd.require(["select2/selection/search"],(function(Search){var oldRemoveChoice=Search.prototype.searchRemoveChoice;Search.prototype.searchRemoveChoice=function(){oldRemoveChoice.apply(this,arguments),this.$search.val("")}})),jQuery(".gmw-admin-page select:not( .gmw-smartbox-not )").each((function(){jQuery(this).select2({tags:!0,dropdownParent:jQuery(this).parent(),containerCssClass:"gmw-select2-container",allowClear:!0,tags:!1})})),jQuery('.gmw-admin-page select[multiple][data-sortable="1"]').not("[data-gmw_ajax_load_options]").each((function(){GMW_Admin.select2_sortable(jQuery(this))})),jQuery(document).on("gmw_ajax_options_loaded",(function(event,args,data,element){setTimeout((function(){jQuery("#select2-setting-search_form-form_template-results").find("li").each((function(){console.log(jQuery(this))}))}),2e3),"gmw_get_location_meta"==args.gmw_ajax_load_options&&setTimeout((function(){GMW_Admin.select2_sortable(element)}),200)}))),jQuery().wpColorPicker&&jQuery(".gmw-color-picker-field").wpColorPicker(),GMW_Admin.multiple_address_fields_selector(),"undefined"!=typeof jconfirm&&(jconfirm.defaults={closeIcon:!0,draggable:!1,backgroundDismiss:!0,escapeKey:!0,animationBounce:1,useBootstrap:!1,theme:"modern",boxWidth:"400px",type:"blue",typeAnimated:!1,animateFromElement:!1},jQuery(".gmw-premium-feature").click((function(){GMW_Admin.premium_feature_modal(jQuery(this).data())}))),jQuery("#gmw-edit-form-page, .geo-my-wp_page_gmw-settings, .geo-my-wp_page_gmw-import-export").length&&GMW_Admin.form_editor_init(),GMW_Admin.popup_element(),GMW_Admin.tooltips()},popup_element:function(){jQuery(document).on("click",".gmw-popup-element-toggle",(function(e){e.preventDefault();var element=jQuery(this).attr("data-element");jQuery(element).fadeToggle("fast",(function(){jQuery(element).find("#gmw-lf-map").length&&"undefined"!=typeof GMW_Location_Form&&GMW_Location_Form.resizeMap(GMW_Location_Form.map)}))})),$(".gmw-popup-element-wrapper").click((function(){$(this).fadeOut("fast")})).children().click((function(e){return!1})),jQuery(".gmw-popup-element-meta-fields-submit").click((function(){jQuery(this).closest("form").submit()})),jQuery(".gmw-popup-element-close-button").click((function(e){e.preventDefault(),jQuery(this).closest(".gmw-popup-element-wrapper").fadeOut("fast")})),document.addEventListener("keydown",(function(event){"Escape"===event.key&&jQuery(".gmw-popup-element-wrapper").fadeOut("fast")}))},tabs_switcher_init:function(){jQuery(".gmw-nav-tab").click((function(e){var tab;if(e.preventDefault(),tab=jQuery(this).is(":visible")?jQuery(this):jQuery(".gmw-admin-page-navigation").find("a:visible:first"),history.pushState){var newurl=window.location.href.split("&current_tab")[0]+"&current_tab="+tab.data("name");window.history.pushState({path:newurl},"",newurl)}jQuery(".gmw-nav-tab, .gmw-tab-panel").removeClass("active"),tab.addClass("active");var clickedTab=tab.data("name");jQuery(".gmw-tab-panel."+clickedTab).addClass("active"),jQuery(".gmw-admin-page-panels-wrapper").scrollTop(0)})),jQuery(".gmw-edit-form-page-nav-tabs").find(".gmw-nav-tab.active").length||jQuery(".gmw-admin-page-navigation a:first").click()},select2_sortable:function(element){if(!jQuery().sortable)return!1;var ulElem=element.parent().find("ul.select2-selection__rendered"),savedOrder=element.data("options_order");if(void 0===savedOrder?(savedOrder="",element.attr("data-options_order","")):savedOrder=savedOrder.toString(),savedOrder=0!=savedOrder&&-1!=savedOrder.indexOf(",")?savedOrder.split(","):"",ulElem.sortable({items:"li.select2-selection__choice",cursor:"move",update:function(){orderSortedValues(element,jQuery(this))}}),orderSortedValues=function(element,ulElem){ulElem.children("li[title]").each((function(i,obj){var child=element.children("option").filter((function(){return jQuery(this).html()==obj.title}));moveElementToEndOfParent(child)}))},moveElementToEndOfParent=function(child){var parent=child.parent();child.detach(),parent.append(child)},""!=savedOrder){for(var i=0,l=savedOrder.length;i<l;i++){var title=element.find('option[value="'+savedOrder[i]+'"]').html();ulElem.append(ulElem.find('li[title="'+title+'"]'))}setTimeout((function(){orderSortedValues(element,ulElem)}),500)}element.on("select2:select",(function(event){var id=event.params.data.id,child=jQuery(this).children("option[value="+id+"]");moveElementToEndOfParent(child),jQuery(this).trigger("change")}))},tooltips:function(){var $tooltips=jQuery(".gmw-tooltip");$tooltips.length&&$tooltips.tooltip({show:{effect:"fadeIn",duration:200,delay:100},position:{my:"center bottom",at:"center-3 top-11"},tooltipClass:"arrow-bottom",items:"[aria-label]",content:function(){var content=jQuery(this).attr("aria-label");return"[placeholder]"==content&&jQuery(this).hasClass("gmw-settings-desc-tooltip")&&(content=jQuery(this).closest("fieldset").find(".gmw-settings-panel-content .gmw-settings-panel-description:first-child").text()),GMW_Admin.strip_content(content)},open:function(event,ui){if(void 0===event.originalEvent)return!1;setTimeout(function(){var leftOffset=(this.getBoundingClientRect().left-(ui.tooltip[0].offsetWidth/2-5)).toFixed(3);ui.tooltip.css("left",leftOffset+"px")}.bind(this),100);var $id=ui.tooltip.attr("id");jQuery("div.ui-tooltip").not("#"+$id).remove()},close:function(event,ui){ui.tooltip.hover((function(){jQuery(this).stop(!0).fadeTo(400,1)}),(function(){jQuery(this).fadeOut("500",(function(){jQuery(this).remove()}))}))}})},strip_content:function(content){var tempWrapper=document.createElement("div");tempWrapper.innerHTML=content;for(var scripts=tempWrapper.getElementsByTagName("script"),i=0;i<scripts.length;i++)scripts[i].parentNode.removeChild(scripts[i]);return tempWrapper.innerHTML},multiple_address_fields_selector:function(){jQuery('.gmw-admin-page [data="multiselect_address_fields"]').on("select2:select",(function(e){var multiSelect=jQuery(this),lastSelected=e.params.data.id;"address"==lastSelected||"disabled"==lastSelected?multiSelect.children("option").each((function(){jQuery(this).val()!=lastSelected&&jQuery(this).prop("selected",!1)})):multiSelect.children("option").each((function(){"address"!=jQuery(this).val()&&"disabled"!=jQuery(this).val()||jQuery(this).prop("selected",!1)})),multiSelect.trigger("change.select2")}))},form_editor_init:function(){jQuery("#form-editor-close-button").click((function(){GMW.set_cookie("gmw_admin_tab","",1)})),jQuery("#gmw-form-editor-submit").click((function(){GMW_Admin.update_form(jQuery("#gmw-form-editor"))})),jQuery(".gmw-settings-multiple-fields-wrapper").find(":visible:first").addClass("gmw-first-visible-option"),jQuery("#gmw-go-to-option-wrapper").detach().prependTo(".gmw-admin-page-navigation").find("select").on("change",(function(){var info=jQuery(this).val().split("|");jQuery(".gmw-admin-page-navigation").find("#"+info[0]).click(),jQuery(".gmw-admin-page-panels-wrapper").scrollTop(jQuery(".gmw-admin-page-panels-wrapper").scrollTop()-jQuery(".gmw-admin-page-panels-wrapper").offset().top+jQuery("#"+info[1]).offset().top-20),jQuery("#"+info[1]).addClass("go-to-option-highlight").find("legend").click(),jQuery("#go-top-option").val(""),setTimeout((function(){jQuery("#"+info[1]).removeClass("go-to-option-highlight")}),2e3)})),jQuery("#setting-general_settings-minimize_options").change((function(){jQuery(this).is(":checked")?jQuery("#gmw-edit-form-page, #gmw-settings-page").removeClass("gmw-visible-options"):jQuery("#gmw-edit-form-page, #gmw-settings-page").addClass("gmw-visible-options")})),jQuery("#setting-general_settings-minimize_options").trigger("change"),jQuery("body.geo-my-wp_page_gmw-forms, body.geo-my-wp_page_gmw-settings").find(".gmw-settings-panel:not( .always-visible ) legend").on("click",(function(){if(!jQuery(this).closest("#gmw-edit-form-page, #gmw-settings-page").hasClass("gmw-visible-options")){var thisSetting=jQuery(this).closest(".gmw-settings-panel:not( .always-visible )").find(".gmw-settings-panel-content");jQuery(this).closest(".gmw-tab-panel").find(".gmw-settings-panel:not( .always-visible )").removeClass("gmw-panel-visible").find(".gmw-settings-panel-content").not(thisSetting).slideUp("fast"),jQuery(this).closest(".gmw-settings-panel:not( .always-visible )").toggleClass("gmw-panel-visible").find(".gmw-settings-panel-content").slideToggle("fast")}})),jQuery("#setting-search_form-locator_button-usage").change((function(){var value=jQuery(this).val(),parentPanel=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper");parentPanel.find(".gmw-settings-panel-field:not( .option-usage )").slideUp("fast"),"disabled"!=value&&parentPanel.find(".option-locator_submit, .option-"+value).slideDown("fast")})),jQuery("#setting-search_form-keywords-usage").change((function(){var value=jQuery(this).val(),parentPanel=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper");setTimeout((function(){-1!==jQuery.inArray("meta_fields",value)?parentPanel.find(".gmw-settings-panel-field.option-meta_fields").slideDown("fast"):parentPanel.find(".gmw-settings-panel-field.option-meta_fields").slideUp("fast")}),200)})),jQuery("#setting-search_form-radius-usage").change((function(){var value=jQuery(this).val(),parentPanel=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper");parentPanel.find(".gmw-settings-panel-field:not( .option-usage )").slideUp("fast"),parentPanel.find(".gmw-settings-panel-field.usage_"+value).slideDown("fast")})),jQuery("#setting-search_form-units-options").change((function(){"both"==jQuery(this).val()?jQuery(".search_form-units-tr.option-label").slideDown():jQuery(".search_form-units-tr.option-label").slideUp()})),jQuery("#setting-search_form-locator, #setting-search_form-locator_button-usage, #setting-search_form-radius-usage, #setting-search_form-units-options").trigger("change"),jQuery(".usage-select-field-toggle").change((function(){var value=jQuery(this).val(),parent=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper"),elements=parent.find(".gmw-settings-panel-field:not( .option-usage )");"disabled"!=value&&("pre_defined"==value?(elements.slideUp("fast"),parent.find(".gmw-settings-panel-field.option-options").slideDown("fast")):"checkboxes"==value?(elements.slideDown("fast"),parent.find(".gmw-settings-panel-field.option-show_options_all, .gmw-settings-panel-field.option-required, .gmw-settings-panel-field.option-smartbox").slideUp("fast")):elements.slideDown("fast"))})),jQuery(".usage-select-field").trigger("change"),jQuery("#setting-search_form-post_types").trigger("change"),jQuery("select[data-gmw_ajax_load_options]").next(".select2-container").addClass("gmw-ajax-loader-block").on("click",(function(){if(jQuery(this).hasClass("loaded"))return!1;jQuery(this).addClass("loaded");var select2Elem=jQuery(this),selectElem=jQuery(this).prev("select"),wrapElem=jQuery(this).closest(".gmw-custom-fields-wrapper"),args={};jQuery.each(selectElem.data(),(function(name,value){-1!=name.indexOf("ajax_load_")&&(args[name]=value)})),select2Elem.removeClass("gmw-ajax-loader-block gmw-tooltip").addClass("gmw-loading-select-options"),jQuery.ajax({type:"POST",url:gmwVars.ajaxUrl,dataType:"json",data:{args:args,action:"gmw_get_field_options",nonce:gmwVars.get_field_options_ajax_nonce},success:function(response){if(select2Elem.removeClass("gmw-loading-select-options"),response.success){var options=$.map(response.data,(function(item,id){"object"==typeof item?(id=item.value,label=item.label):label=item;var option=jQuery('<option value="'+id+'">'+label+"</option>");return selectElem.find('option[value="'+id+'"]').is(":selected")&&(selectElem.find('option[value="'+id+'"]').remove(),option.prop("selected",!0)),option}));selectElem.append(options).trigger("change"),jQuery(document).trigger("gmw_ajax_options_loaded",[args,response.data,selectElem,select2Elem,wrapElem])}else alert("Failed loading data."),console.log(response.data)}}).fail((function(jqXHR,textStatus,error){select2Elem.removeClass("gmw-loading-select-options"),window.console&&window.console.log&&(console.log(textStatus+": "+error),jqXHR.responseText&&console.log(jqXHR.responseText))}))})),jQuery(".gmw-settings-group-header i").on("mouseup",(function(){if(jQuery(this).hasClass("gmw-tooltip")&&!jQuery(this).hasClass("tooltip-destroyed")){var thisClass=jQuery(this).attr("class").split(" ")[0];jQuery("."+thisClass).addClass("tooltip-destroyed").tooltip("destroy")}})),void 0!==wp.codeEditor&&jQuery(".gmw-code-mirror-field").each((function(){var thisField=jQuery(this),cm_editor=wp.codeEditor.initialize(thisField,{});$(document).on("keyup",".CodeMirror-code",(function(){thisField.html(cm_editor.codemirror.getValue()),thisField.trigger("change")})),jQuery("#gmw-form-editor").on("submit",(function(e){thisField.html(cm_editor.codemirror.getValue()),thisField.trigger("change")}))})),jQuery("#setting-search_form-address_field-usage").on("change",(function(){"single"==jQuery(this).val()?jQuery(".gmw-settings-panel-field.option-multiple").slideUp("fast",(function(){jQuery(".gmw-settings-panel-field.single-address-field-option").slideDown("fast")})):jQuery(".gmw-settings-panel-field.single-address-field-option").slideUp("fast",(function(){jQuery(".gmw-settings-panel-field.option-multiple").slideDown("fast")}))})),$(".address-field-usage-option").change((function(){var value=$(this).val(),container=$(this).closest(".address-field-settings");container.find(".gmw-settings-panel-inner-option").not(":first").slideUp("fast"),"default"==value?container.find(".gmw-settings-panel-inner-option.address-field-value-option-wrapper").slideDown("fast"):"disabled"!=value&&container.find(".gmw-settings-panel-inner-option:not( .address-field-value-option-wrapper )").slideDown("fast")})),$("form.gmw-premium-settings-enabled").find("#setting-search_form-address_field-usage, .address-field-usage-option").trigger("change"),$("form#gmw-form-editor").find("#setting-page_load_results-post_types, #setting-search_form-post_types").change((function(){var element=jQuery(this),postTypes=jQuery(this).val(),tabPanel=element.closest(".gmw-tab-panel"),taxesWrap=tabPanel.find(".include-exclude-taxonomy-terms-wrapper"),multiplePt=!!tabPanel.find("#taxonomies-wrapper").hasClass("multiple-post-types"),taxesFound=!1;taxesWrap.find(".gmw-taxonomies-picker-wrapper").slideUp(),tabPanel.find(".taxonomy-wrapper, .post-types-taxonomies-message").hide();for(var i=0;i<postTypes.length;++i)taxesWrap.find(".gmw-taxonomies-picker-wrapper."+postTypes[i]).slideDown(),tabPanel.find('.taxonomy-wrapper[data-post_types*="'+postTypes[i]+'"]').length&&(taxesFound=!0,tabPanel.find('.taxonomy-wrapper[data-post_types*="'+postTypes[i]+'"]').show().find(".taxonomy-settings").slideUp().find(".gmw-settings-panel-field").slideDown(),tabPanel.find('.taxonomy-wrapper[data-post_types*="'+postTypes[i]+'"]').find(".taxonomy-usage").trigger("change"));0==postTypes.length?(tabPanel.find(".post-types-taxonomies-message.select-taxonomy").slideDown(),tabPanel.find(".search_form-post_types_settings-tr.gmw-settings-panel-field:not( .option-post_types )").slideUp()):postTypes.length>=1&&(1==postTypes.length?(tabPanel.find(".search_form-post_types_settings-tr.gmw-settings-panel-field:not( .option-post_types )").slideUp(),taxesFound||tabPanel.find(".post-types-taxonomies-message.taxonomies-not-found").slideDown(),"setting-search_form-post_types"==element.attr("id")&&jQuery("#search_form-include_exclude_terms-tr").length&&(tabPanel.find("#search_form-taxonomies-tr").slideDown(),tabPanel.find("#search_form-include_exclude_terms-tr").slideUp())):("setting-search_form-post_types"==element.attr("id")&&jQuery("#search_form-include_exclude_terms-tr").length&&(tabPanel.find("#search_form-taxonomies-tr").slideDown(),tabPanel.find("#search_form-include_exclude_terms-tr").slideDown()),multiplePt?taxesFound||tabPanel.find(".post-types-taxonomies-message.taxonomies-not-found").slideDown():(tabPanel.find("#search_form-taxonomies-tr .post-types-taxonomies-message.multiple-selected").slideDown(),tabPanel.find("#taxonomies-wrapper .taxonomy-wrapper").hide()),tabPanel.find("#setting-search_form-post_types_settings-usage").trigger("change"),tabPanel.find(".search_form-post_types_settings-tr.gmw-settings-panel-field.option-usage").slideDown()))})),setTimeout((function(){$("form#gmw-form-editor").find("#setting-page_load_results-post_types, #setting-search_form-post_types").trigger("change")}),100),jQuery(document).on("click",".gmw-settings-group-wrapper .gmw-settings-group-header",(function(){var container=jQuery(this).closest(".gmw-setting-groups-container"),thisGroup=jQuery(this).closest(".gmw-settings-group-wrapper").find(".gmw-settings-group-content"),isVisible=thisGroup.is(":visible");container.find(".gmw-settings-group-content").slideUp("fast"),isVisible||thisGroup.slideDown("fast")})),jQuery("#search_form-taxonomies-tr").find("select.taxonomy-usage").change((function(){jQuery(this).closest(".taxonomy-settings-table-wrapper").attr("data-type",jQuery(this).val())})),jQuery().sortable&&jQuery(".gmw-settings-group-draggable-area").sortable({items:"> .gmw-settings-group-wrapper.gmw-sortable-item",opacity:.8,cursor:"move",axis:"y",handle:".gmw-settings-group-header",placeholder:"gmw-sortable-placeholder",start:function(event,ui){jQuery(this).sortable("refreshPositions"),jQuery(document).trigger("gmw_sortable_option_drag_start",[event,ui]),jQuery(this).closest(".gmw-settings-group-draggable-area").addClass("gmw-draggable-active")},stop:function(event,ui){jQuery(this).closest(".gmw-settings-group-draggable-area").removeClass("gmw-draggable-active")}}),jQuery(document).on("gmw_ajax_options_loaded",(function(event,args,data,selectElem){var wrapElem=selectElem.closest(".gmw-custom-fields-wrapper");void 0!==args.gmw_ajax_load_is_custom_fields&&"1"==args.gmw_ajax_load_is_custom_fields&&wrapElem.find(".gmw-custom-field-wrapper:not( .original-field )").each((function(){jQuery('.gmw-custom-fields-picker option[value="'+jQuery(this).data("field_name")+'"]').prop("disabled",!0)}))})),$(document).on("click",".gmw-custom-field-delete",(function(){if(!confirm("Are you sure?"))return!1;var wrapElement=jQuery(this).closest(".gmw-custom-fields-wrapper"),field=$(this).closest(".gmw-custom-field-wrapper");wrapElement.find(".gmw-custom-fields-picker").find('option[value="'+field.attr("data-field_name")+'"]').prop("disabled",!1),field.find(".custom-field-settings").slideUp("normal",(function(){field.fadeOut("slow",(function(){field.remove()}))}))})),$(".gmw-new-custom-field-button").click((function(e){var wrapElement=jQuery(this).closest(".gmw-custom-fields-wrapper"),fieldName=wrapElement.find(".gmw-custom-fields-picker").val();if(""!=fieldName&&null!=fieldName){var fieldLabel=wrapElement.find(".gmw-custom-fields-picker option:selected").text();if(wrapElement.find(".gmw-custom-fields-picker").val("").find('option[value="'+fieldName+'"]').prop("disabled",!0).trigger("change"),wrapElement.find('.gmw-custom-field-wrapper[data-field_name="'+fieldName+'"]').length)alert("This field already exist in the form.");else{var newField=wrapElement.find(".gmw-custom-field-wrapper.original-field").clone().hide();newField.attr("data-field_name",fieldName).find(".custom-field-slug input").val(fieldName),newField.find(".custom-field-slug span").html(fieldName),newField.find(".custom-field-label span").html(fieldLabel),newField.find(".custom-field-label-option-wrap input").val(fieldLabel),newField.appendTo(wrapElement.find("#custom-fields-holder")).find("input, select, textarea").each((function(){if(void 0!==$(this).attr("name")){void 0!==jQuery(this).attr("id")&&jQuery(this).attr("id",jQuery(this).attr("id").replace("%%field_name%%",fieldName));var newName=$(this).attr("name").replace("%%field_name%%",fieldName);$(this).attr("name",newName).prop("disabled",!1)}jQuery().select2&&-1!=jQuery(this).prop("type").indexOf("select-")&&jQuery(this).hasClass("post-types-selector")&&jQuery(this).select2({tags:!0,dropdownParent:jQuery(this).parent(),containerCssClass:"gmw-select2-container",allowClear:!0,tags:!1})})),newField.removeClass("original-field").fadeIn("slow",(function(){jQuery(this).find(".gmw-custom-field-options-toggle").click()}))}}else alert("Select a field from the dropdown.")})),jQuery(".gmw-field-usage-options-toggle").each((function(){var field=jQuery(this);field.find(".gmw-settings-panel-field.option-usage").find("select").removeClass("gmw-options-toggle"),field.find(".gmw-settings-panel-field.option-smartbox").attr("data-usage","select,multiselect"),field.find(".gmw-settings-panel-field.option-label").attr("data-usage","text,number,select,date,time,datetime,multiselect,checkboxes,radio"),field.find(".gmw-settings-panel-field.option-options").attr("data-usage","pre_defined,select,multiselect,checkboxes,radio"),field.find(".gmw-settings-panel-field.option-show_options_all").attr("data-usage","select,radio,multiselect"),field.find(".gmw-settings-panel-field.option-required").attr("data-usage","text,number,select,date,time,datetime,multiselect,radio")})),$(document).on("change",".custom-field-usage-selector, #taxonomies-wrapper select.taxonomy-usage, .gmw-field-usage-options-toggle .gmw-settings-panel-field.option-usage select",(function(){var thisValue=jQuery(this).val(),thisFieldWrap=jQuery(this).closest(".custom-field-settings, .taxonomy-wrapper, .gmw-field-usage-options-toggle");thisFieldWrap.find(".gmw-settings-panel-field").not(".custom-field-usage-option-wrap, .taxonomy-usage-option-wrap, .gmw-settings-panel-field.option-usage, .gmw-settings-panel-field.gmw-option-toggle-not").slideUp("fast"),"disable"!=thisValue&&"disabled"!=thisValue&&thisFieldWrap.find('.gmw-settings-panel-field[data-usage*="'+thisValue+'"], .gmw-settings-panel-field[data-usage=""]').not('.gmw-settings-panel-field[data-usage_not*="'+thisValue+'"]').slideDown("fast")})),jQuery("#search_form-taxonomies-tr, .gmw-field-usage-options-toggle").find("select.taxonomy-usage, .gmw-settings-panel-field.option-usage select").trigger("change"),jQuery(".gmw-options-toggle").change((function(){var isTab=!jQuery(this).closest(".gmw-settings-multiple-fields-wrapper").length,thisVal=jQuery(this).val(),thisPanel,parentPanel,panelClass;isTab?(panelClass=".gmw-settings-panel",thisPanel=jQuery(this).closest(panelClass),parentPanel=jQuery(this).closest(".gmw-tab-panel")):(panelClass=".gmw-settings-panel-field",thisPanel=jQuery(this).closest(panelClass),parentPanel=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper")),jQuery(this).is("select")&&""!=jQuery(this).val()&&"disable"!=jQuery(this).val()&&"disabled"!=jQuery(this).val()||jQuery(this).is(":checked")?parentPanel.find(panelClass).not(".option-meta_fields").slideDown("false").removeClass("disabled"):parentPanel.find(panelClass).not(thisPanel).not(".option-meta_fields").slideUp("fast",(function(){thisPanel.addClass("disabled")}))})),jQuery(".gmw-options-toggle").trigger("change"),$(document).on("change",".custom-field-type-selector",(function(){var thisField=jQuery(this).closest(".custom-field-settings").find(".custom-field-date-format-option-wrap");"DATE"==$(this).val()?thisField.slideDown("fast"):thisField.slideUp("fast")})),$(document).on("change",".custom-field-comparison-selector, .custom-field-date-comparison-selector",(function(){var value=$(this).val(),options=jQuery(this).closest(".custom-field-settings").find(".custom-field-second-option");"BETWEEN"==value||"NOT_BETWEEN"==value?(setTimeout((function(){options.slideDown("fast")}),500),options.slideDown("fast")):options.slideUp("fast")})),jQuery(".custom-field-comparison-selector, .custom-field-date-comparison-selector, .custom-field-usage-selector").trigger("change"),jQuery("select#setting-info_window-iw_type").on("change",(function(){var wrapper=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper");wrapper.find(".gmw-info-window-template").slideUp("fast"),wrapper.find(".gmw-info-window-template."+jQuery(this).val()).slideDown()})),jQuery("#setting-info_window-ajax_enabled").change((function(){var tempElement=jQuery(this).closest(".gmw-settings-multiple-fields-wrapper").find(".option-template");tempElement.slideUp("fast"),jQuery(this).is(":checked")&&tempElement.slideDown("fast")})),jQuery("select#setting-info_window-iw_type, #setting-info_window-ajax_enabled").trigger("change")},update_form:function(formElement){jQuery(".gmw-edit-form #gmw-form-cover").show(),jQuery("#gmw-form-editor-submit").addClass("saving-form"),jQuery("#gmw-admin-page-loader").fadeIn("fast").find("span").html("Saving changes..."),jQuery.ajax({type:"POST",url:gmwVars.ajaxUrl,dataType:"json",data:{action:"gmw_update_admin_form",form_values:formElement.serialize(),security:formElement.data("nonce")},success:function(response){response?(jQuery("#gmw-form-editor, #gmw-form-editor-submit").removeClass("saving-form"),jQuery("#gmw-form-editor-submit").addClass("form-saved"),setTimeout((function(){jQuery("#gmw-form-editor-submit").removeClass("form-saved"),jQuery("#gmw-admin-page-loader").fadeOut("fast",(function(){jQuery(this).find("span").html("")}))}),1e3)):this.update_failed()}}).fail((function(jqXHR,textStatus,error){window.console&&window.console.log&&(console.log(textStatus+": "+error),jqXHR.responseText&&console.log(jqXHR.responseText)),jQuery("#gmw-form-editor, #gmw-form-editor-submit").removeClass("saving-form"),jQuery("#gmw-form-editor-submit").addClass("saving-form-failed"),setTimeout((function(){jQuery("#gmw-form-editor-submit").removeClass("saving-form-failed"),jQuery("#gmw-admin-page-loader").fadeOut("fast",(function(){jQuery(this).find("span").html("")}))}),3e3)}))},premium_feature_modal:function(args){var title,image='<span class="gmw-premium-feature-image-wrapper"><img src="https://geomywp.com/wp-content/uploads/extensions-images/icons/'+args.feature+'_icon.svg" /><span></span></span>',content='<div class="gmw-premium-feature-modal-content-wrapper">';content+='<div class="gmw-premium-feature-content">',content+="<p>"+args.content+"</p>",content+="</div>",content+="</div>",jQuery.alert({title:'<a href="'+args.url+'" target="_blank">'+args.name+" Extension</a>",content:content,boxWidth:"450px",onOpenBefore:function(){this.$btnc.after('<img class="gmw-premium-feature-mascot" src="https://geomywp.com/wp-content/uploads/assets/images/mascot-sign.png" />'),this.$body.addClass("gmw-premium-feature-box"),jQuery(".gmw-premium-feature-box").prepend(image)},buttons:{somethingElse:{text:"Visit Extension Page",btnClass:"btn-green",keys:["enter"],action:function(){window.open(args.url,"_blank")}}}})}};GMW_Admin.init(jQuery)}));