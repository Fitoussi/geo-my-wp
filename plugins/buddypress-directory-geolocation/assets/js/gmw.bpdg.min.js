jQuery(document).ready((function($){function gmw_bpdg_update_cookies(save){save?(GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_address",jQuery("#gmw-address-field-"+gmwBpdg.prefix).val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lat",jQuery("#gmw-lat-"+gmwBpdg.prefix).val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lng",jQuery("#gmw-lng-"+gmwBpdg.prefix).val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_radius",jQuery("#gmw-distance-field-"+gmwBpdg.prefix).val(),1)):(GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_address","",1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lat",jQuery("").val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lng",jQuery("").val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_radius",jQuery("").val(),1))}function gmw_bpdg_submit_form(){jQuery("#dir-"+gmwBpdg.component+"s-search-submit, #"+gmwBpdg.component+"s_search_submit").click()}"business"==gmwBpdg.component&&(gmwBpdg.component="busines"),gmwBpdg.is_buddyboss_theme&&$(document).ajaxComplete((function(event,request,settings){void 0!==settings.data&&settings.data.indexOf("action=members_filter")>-1&&setTimeout((function(){jQuery(".bp-members-list-hook-inner").each((function(){var item=jQuery(this),wrapper=jQuery(this).closest(".item-entry");item.find(".gmw-bpmdg-location-meta-wrapper").detach().insertAfter(wrapper.find(".list-wrap-inner .item-block"))}))}),300)})),jQuery(".item-list-tabs #members-all, .item-list-tabs #groups-all").on("click",(function(){GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_address","",1)})),$(".youzify-search-input-form").length?($("#gmw-"+gmwBpdg.prefix+"-form-temp-holder").children().detach().insertAfter(".youzify-left-side-wrapper").find('input[type="text"]').addClass("youzify-search-input"),jQuery(".youzify-search-input-container").addClass("gmw-bpdg-enabled"),jQuery(".youzify-search-input-container").find(".youzify-show-filters").length&&jQuery(".youzify-search-input-container").find(".gmw-bpdg-radius-field-wrapper").length&&jQuery(".youzify-search-input-container").addClass("filters-enabled")):$("#dir-business-search-form").length?($("#gmw-form-elements-holder").detach().insertAfter("#dir-business-search-form").children().unwrap(),$("#gmw-distance-element-holder").detach().appendTo("#business-order-by").children().unwrap()):$("#gmw-"+gmwBpdg.prefix+"-form-temp-holder").children().detach().insertBefore("#"+gmwBpdg.component+"s_search_submit"),$("#gmw-map-wrapper-"+gmwBpdg.prefix).detach().insertBefore("#"+gmwBpdg.component+"s-dir-list"),$("#gmw-address-field-"+gmwBpdg.prefix).on("search",(function(){return jQuery.trim(jQuery(this).val()).length||(jQuery("#gmw-lat-"+gmwBpdg.prefix).val(""),jQuery("#gmw-lng-"+gmwBpdg.prefix).val(""),gmw_bpdg_submit_form()),!1})),GMW.add_action("gmw_address_autocomplete_place_changed",(function(place,autocomplete,field_id,input_field,options){if(!place.geometry||"gmw-address-field-"+gmwBpdg.prefix!=field_id)return!1;jQuery("#gmw-lat-"+gmwBpdg.prefix).val(place.geometry.location.lat()),jQuery("#gmw-lng-"+gmwBpdg.prefix).val(place.geometry.location.lng()),gmw_bpdg_submit_form()})),jQuery(".gmw-locator-button").click((function(){GMW.locator_button_success=function(result){$("#gmw-lat-"+gmwBpdg.prefix).val(result.latitude),$("#gmw-lng-"+gmwBpdg.prefix).val(result.longitude),$("#gmw-address-field-"+gmwBpdg.prefix).val(result.formatted_address),$(".gmw-locator-button").removeClass("animate-spin"),gmw_bpdg_submit_form()},GMW.locator_button_failed=function(status){alert("We were unable to detect your location. Please try again."),console.log("Geocoder failed due to: "+status),$(".gmw-locator-button").removeClass("animate-spin")},GMW.locator_button(jQuery(this))})),jQuery("#gmw-"+gmwBpdg.prefix+"-form").on("submit",(function(e){return e.preventDefault(),!1})),jQuery("#gmw-distance-field-"+gmwBpdg.prefix).change((function(){gmw_bpdg_submit_form()})),jQuery("#gmw-address-field-"+gmwBpdg.prefix).keyup((function(event){13!=event.which?(jQuery("#gmw-lat-"+gmwBpdg.prefix).val(""),jQuery("#gmw-lng-"+gmwBpdg.prefix).val("")):(event.preventDefault(),gmw_bpdg_submit_form())})),$("#dir-"+gmwBpdg.component+"s-search-form, #horizontal_search").submit((function(e){return gmw_bpdg_update_cookies(!0),!0})),$("#"+gmwBpdg.component+"s_search_submit, #dir-"+gmwBpdg.component+"s-search-submit").click((function(e){return gmw_bpdg_update_cookies(!0),!0}))})),"google_maps"===gmwVars.mapsProvider&&GMW.add_filter("gmw_map_init",(function(map){return void 0!==map.markerGroupingTypes.markers_clusterer?map:(map.markerGroupingTypes.markers_clusterer={init:function(mapObject){void 0!==markerClusterer.MarkerClusterer&&(mapObject.clusters=new markerClusterer.MarkerClusterer({map:mapObject.map,markers:mapObject.markersl}))},clear:function(mapObject){"function"==typeof markerClusterer.MarkerClusterer&&0!=mapObject.clusters&&mapObject.clusters.clearMarkers()},addMarker:function(marker,mapObject){mapObject.clusters.addMarker(marker)},markerClick:function(marker,mapObject){google.maps.event.addListener(marker,"click",(function(){mapObject.markerClick(this)}))}},map)})),"leaflet"===gmwVars.mapsProvider&&GMW.add_filter("gmw_map_init",(function(map){return void 0!==map.markerGroupingTypes.markers_clusterer?map:(map.markerGroupingTypes.markers_clusterer={init:function(mapObject){"function"==typeof L.markerClusterGroup&&(mapObject.clusters=L.markerClusterGroup(mapObject.options.markerClustersOptions),mapObject.map.addLayer(mapObject.clusters))},clear:function(mapObject){"function"==typeof L.markerClusterGroup&&0!=mapObject.clusters&&mapObject.clusters.clearLayers()},addMarker:function(marker,mapObject){mapObject.clusters.addLayer(marker)},markerClick:function(marker,mapObject){marker.on("click",(function(){mapObject.markerClick(this)}))}},map)}));