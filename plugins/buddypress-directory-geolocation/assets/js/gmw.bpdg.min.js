jQuery(document).ready(function(e){function r(e){e?(GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_address",jQuery("#gmw-address-field-"+gmwBpdg.prefix).val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lat",jQuery("#gmw-lat-"+gmwBpdg.prefix).val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lng",jQuery("#gmw-lng-"+gmwBpdg.prefix).val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_radius",jQuery("#gmw-distance-field-"+gmwBpdg.prefix).val(),1)):(GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_address","",1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lat",jQuery("").val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_lng",jQuery("").val(),1),GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_radius",jQuery("").val(),1))}function t(){jQuery("#dir-"+gmwBpdg.component+"s-search-submit, #"+gmwBpdg.component+"s_search_submit").click()}gmwBpdg.is_buddyboss&&e(document).ajaxComplete(function(e,r,t){"undefined"!=typeof t.data&&t.data.indexOf("action=members_filter")>-1&&setTimeout(function(){jQuery(".bp-members-list-hook-inner").each(function(){var e=jQuery(this),r=jQuery(this).closest(".item-entry");e.find(".gmw-bpmdg-location-meta-wrapper").detach().insertAfter(r.find(".list-wrap-inner .item-block"))})},300)}),jQuery(".item-list-tabs #members-all, .item-list-tabs #groups-all").on("click",function(){GMW.set_cookie("gmw_"+gmwBpdg.prefix+"_address","",1)}),jQuery(".youzify-search-input-form").length?(e("#gmw-"+gmwBpdg.prefix+"-form-temp-holder").children().detach().insertAfter(".youzify-left-side-wrapper").find('input[type="text"]').addClass("youzify-search-input"),jQuery(".youzify-search-input-container").addClass("gmw-bpdg-enabled"),jQuery(".youzify-search-input-container").find(".youzify-show-filters").length&&jQuery(".youzify-search-input-container").find(".gmw-bpdg-radius-field-wrapper").length&&jQuery(".youzify-search-input-container").addClass("filters-enabled")):e("#gmw-"+gmwBpdg.prefix+"-form-temp-holder").children().detach().insertBefore("#"+gmwBpdg.component+"s_search_submit"),e("#gmw-map-wrapper-"+gmwBpdg.prefix).detach().insertBefore("#"+gmwBpdg.component+"s-dir-list"),e("#gmw-address-field-"+gmwBpdg.prefix).on("search",function(){return jQuery.trim(jQuery(this).val()).length||(jQuery("#gmw-lat-"+gmwBpdg.prefix).val(""),jQuery("#gmw-lng-"+gmwBpdg.prefix).val(""),t()),!1}),GMW.add_action("gmw_address_autocomplete_place_changed",function(e,r,i,n,a){return e.geometry&&"gmw-address-field-"+gmwBpdg.prefix==i?(jQuery("#gmw-lat-"+gmwBpdg.prefix).val(e.geometry.location.lat()),jQuery("#gmw-lng-"+gmwBpdg.prefix).val(e.geometry.location.lng()),void t()):!1}),jQuery(".gmw-locator-button").click(function(){GMW.locator_button_success=function(r){e("#gmw-lat-"+gmwBpdg.prefix).val(r.latitude),e("#gmw-lng-"+gmwBpdg.prefix).val(r.longitude),e("#gmw-address-field-"+gmwBpdg.prefix).val(r.formatted_address),e(".gmw-locator-button").removeClass("animate-spin"),t()},GMW.locator_button_failed=function(r){alert("We were unable to detect your location. Please try again."),console.log("Geocoder failed due to: "+r),e(".gmw-locator-button").removeClass("animate-spin")},GMW.locator_button(jQuery(this))}),jQuery("#gmw-"+gmwBpdg.prefix+"-form").on("submit",function(e){return e.preventDefault(),!1}),jQuery("#gmw-distance-field-"+gmwBpdg.prefix).change(function(){t()}),jQuery("#gmw-address-field-"+gmwBpdg.prefix).keyup(function(e){13!=e.which?(jQuery("#gmw-lat-"+gmwBpdg.prefix).val(""),jQuery("#gmw-lng-"+gmwBpdg.prefix).val("")):(e.preventDefault(),t())}),e("#dir-"+gmwBpdg.component+"s-search-form, #horizontal_search").submit(function(e){return r(!0),!0}),e("#"+gmwBpdg.component+"s_search_submit").click(function(e){return r(!0),!0})}),"google_maps"===gmwVars.mapsProvider&&GMW.add_filter("gmw_map_init",function(e){return"undefined"!=typeof e.markerGroupingTypes.markers_clusterer?e:(e.markerGroupingTypes.markers_clusterer={init:function(e){"function"==typeof MarkerClusterer&&(e.clusters=new MarkerClusterer(e.map,e.markers,{imagePath:e.clustersPath,clusterClass:e.prefix+"-cluster cluster",maxZoom:15}))},clear:function(e){"function"==typeof MarkerClusterer&&0!=e.clusters&&e.clusters.clearMarkers()},addMarker:function(e,r){r.clusters.addMarker(e)},markerClick:function(e,r){google.maps.event.addListener(e,"click",function(){r.markerClick(this)})}},e)}),"leaflet"===gmwVars.mapsProvider&&GMW.add_filter("gmw_map_init",function(e){return"undefined"!=typeof e.markerGroupingTypes.markers_clusterer?e:(e.markerGroupingTypes.markers_clusterer={init:function(e){"function"==typeof L.markerClusterGroup&&(e.clusters=L.markerClusterGroup(e.options.markerClustersOptions),e.map.addLayer(e.clusters))},clear:function(e){"function"==typeof L.markerClusterGroup&&0!=e.clusters&&e.clusters.clearLayers()},addMarker:function(e,r){r.clusters.addLayer(e)},markerClick:function(e,r){e.on("click",function(){r.markerClick(this)})}},e)});