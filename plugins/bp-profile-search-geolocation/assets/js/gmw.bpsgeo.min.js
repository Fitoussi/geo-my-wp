jQuery(document).ready(function(e){function t(e,t){var o=jQuery(".bps-form.gmw-bpsgeo-submitted"),s=e.latitude,r=e.longitude;o.find(".gmw-bpsgeo-lat").val(s),o.find(".gmw-bpsgeo-lng").val(r),setTimeout(function(){o.removeClass("gmw-bpsgeo-submitted"),o.submit()},500)}function o(e){var t=jQuery(".bps-form.gmw-bpsgeo-submitted");return t.find(".gmw-bpsgeo-lat").val(""),t.find(".gmw-bpsgeo-lng").val(""),t.removeClass("gmw-bpsgeo-submitted"),alert("We couldn't verify the address you provided. Please try a different address."),!1}jQuery("#gmw_bpsgeo_location_gmw_proximity_wrap").length&&jQuery("#gmw-bpmdg-search-wrapper, #gmw-bpmdg-radius-wrapper").hide(),jQuery(".gmw-bpsgeo-address-field").on("change",function(e){jQuery(this).closest(".gmw-bpsgeo-location-fields-inner").find(".gmw-bpsgeo-lat, .gmw-bpsgeo-lng").val("")}),jQuery(".bps-form").on("submit",function(e){jQuery(this).addClass("gmw-bpsgeo-submitted");var s=jQuery(this),r=s.find(".gmw-bpsgeo-address-field").val(),g=s.find(".gmw-bpsgeo-lat").val(),n=s.find(".gmw-bpsgeo-lng").val();!jQuery.trim(r).length||jQuery.trim(g).length&&jQuery.trim(n).length||(e.preventDefault(),GMW.geocoder(r,t,o))}),jQuery(".gmw-bpsgeo-locator-button").click(function(){var t=jQuery(this).closest("form");GMW.locator_button_success=function(e){t.find(".gmw-bpsgeo-lat").val(e.latitude),t.find(".gmw-bpsgeo-lng").val(e.longitude),t.find(".gmw-bpsgeo-address-field").val(e.formatted_address),jQuery(".gmw-bpsgeo-locator-button").removeClass("animate-spin")},GMW.locator_button_failed=function(t){alert("Geocoder failed due to: "+t),e(".gmw-bpsgeo-locator-button").removeClass("animate-spin")},GMW.locator_button(jQuery(this))})});